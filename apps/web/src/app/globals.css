@tailwind base;
@tailwind components;
@tailwind utilities;

/* ==========================================
   SYNTER TACTICAL UI - DESIGN TOKENS
   Command Center / Cyberpunk Aesthetic
   ========================================== */

:root[data-theme="tactical"], :root {
  /* Core Surfaces */
  --bg-carbon-900: #0B0E12;
  --bg-carbon-850: #0F131A;
  --bg-carbon-800: #131922;
  --bg-carbon-700: #171E28;
  
  /* Grid & Dividers */
  --grid-1: rgba(255,255,255,0.04);
  --grid-2: rgba(255,255,255,0.02);
  --divider: rgba(255,255,255,0.06);
  
  /* Text */
  --text-hi: #E6E9EF;
  --text-mid: #B8C0CC;
  --text-low: #8B94A3;
  --text-muted: #6B7380;
  --text-disabled: #505864;
  
  /* Accents */
  --accent-red: #E4453A;
  --accent-amber: #F0B34C;
  --accent-lime: #9CFF5A;
  --accent-cyan: #4DD6FF;
  --accent-yellow: #E7F24B;
  --danger-red: #FF3B3B;
  --sentinel-green: #3EE08F;
  --stealth-teal: #297F87;
  
  /* Borders & Strokes */
  --stroke-1: #2A303A;
  --stroke-2: #1E242E;
  
  /* Shadows & Glows */
  --soft-glow: 0 0 0 1px rgba(228,69,58,0.12), 0 0 24px rgba(228,69,58,0.18);
  --focus-ring: 0 0 0 2px rgba(77,214,255,0.28);
  
  /* Semantic Colors for Ads Dashboard */
  --color-spend: var(--accent-amber);
  --color-revenue: var(--accent-lime);
  --color-ctr: var(--accent-cyan);
  --color-cpa: var(--accent-red);
  
  /* Font Families */
  --font-mono: 'IBM Plex Mono', 'JetBrains Mono', ui-monospace, monospace;
  --font-display: 'Space Grotesk', 'Inter', ui-sans-serif, system-ui;
  
  /* Durations & Easing */
  --duration-fast: 120ms;
  --duration-normal: 180ms;
  --duration-slow: 240ms;
  --ease-tactical: cubic-bezier(0.22, 1, 0.36, 1);
}

/* ==========================================
   BASE STYLES
   ========================================== */

* {
  box-sizing: border-box;
}

html {
  height: 100%;
  overflow-y: auto;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-family: var(--font-mono);
  scroll-behavior: smooth;
}

body {
  min-height: 100%;
  overflow-y: auto;
  background: var(--bg-carbon-900);
  color: var(--text-hi);
  line-height: 1.6;
  font-weight: 400;
  margin: 0;
  font-size: 14px;
}

#__next {
  height: 100%;
}

/* ==========================================
   GRID BACKGROUND UTILITY
   ========================================== */

.synter-grid {
  background:
    linear-gradient(var(--grid-2) 1px, transparent 1px) 0 0/6px 6px,
    linear-gradient(var(--grid-1) 1px, transparent 1px) 0 0/24px 24px,
    var(--bg-carbon-900);
}

/* ==========================================
   COMPONENT SYSTEM
   ========================================== */

/* Panel / Card */
.panel {
  background: var(--bg-carbon-850);
  border: 1px solid var(--stroke-1);
  border-radius: 6px;
  padding: 12px;
  transition: all var(--duration-normal) var(--ease-tactical);
}

.panel-title {
  font-family: var(--font-mono);
  font-size: 12px;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: var(--text-low);
  margin-bottom: 8px;
}

/* Tech corner accents */
.panel-tactical::before,
.panel-tactical::after {
  content: '';
  position: absolute;
  width: 8px;
  height: 8px;
  border: 1px solid var(--accent-red);
  opacity: 0.3;
}

.panel-tactical::before {
  top: -1px;
  left: -1px;
  border-right: none;
  border-bottom: none;
}

.panel-tactical::after {
  bottom: -1px;
  right: -1px;
  border-left: none;
  border-top: none;
}

/* Metric Tiles */
.metric-tile {
  @apply panel;
  position: relative;
  overflow: hidden;
}

.metric-value {
  font-family: var(--font-display);
  font-size: 32px;
  font-weight: 600;
  color: var(--text-hi);
  margin: 0;
  font-variant-numeric: tabular-nums;
}

.metric-label {
  font-family: var(--font-mono);
  font-size: 11px;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: var(--text-low);
  margin: 4px 0 0 0;
}

.metric-delta {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  font-size: 11px;
  font-family: var(--font-mono);
  padding: 2px 6px;
  border-radius: 10px;
  border: 1px solid var(--stroke-2);
  background: rgba(19, 25, 34, 0.6);
  margin-top: 8px;
}

.metric-delta.positive {
  color: var(--accent-lime);
  border-color: var(--accent-lime);
}

.metric-delta.negative {
  color: var(--accent-red);
  border-color: var(--accent-red);
}

/* Status Pills */
.status-pill {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  height: 20px;
  padding: 0 8px;
  border-radius: 10px;
  font-size: 11px;
  font-family: var(--font-mono);
  font-weight: 600;
  border: 1px solid;
}

.status-pill.success {
  color: var(--sentinel-green);
  background: var(--bg-carbon-800);
  border-color: var(--sentinel-green);
}

.status-pill.warning {
  color: var(--accent-amber);
  background: var(--bg-carbon-800);
  border-color: var(--accent-amber);
}

.status-pill.error {
  color: var(--danger-red);
  background: var(--bg-carbon-800);
  border-color: var(--danger-red);
}

.status-pill.idle {
  color: var(--text-low);
  background: var(--bg-carbon-800);
  border-color: var(--stroke-2);
  border-style: dotted;
}

/* Dense Tables */
.table-tactical {
  width: 100%;
  border-collapse: collapse;
  font-family: var(--font-mono);
  font-size: 12px;
  background: var(--bg-carbon-850);
  border: 1px solid var(--stroke-1);
  border-radius: 6px;
  overflow: hidden;
}

.table-tactical thead {
  background: var(--bg-carbon-800);
}

.table-tactical th {
  font-size: 11px;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: var(--text-low);
  font-weight: 600;
  padding: 12px;
  text-align: left;
  border-bottom: 1px solid var(--stroke-1);
}

.table-tactical th.numeric {
  text-align: right;
}

.table-tactical td {
  padding: 10px 12px;
  border-bottom: 1px solid var(--stroke-2);
  color: var(--text-mid);
}

.table-tactical td.numeric {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

.table-tactical tbody tr:nth-child(even) {
  background: var(--bg-carbon-800);
}

.table-tactical tbody tr:hover {
  background: rgba(19, 25, 34, 0.6);
  cursor: pointer;
}

.table-tactical tbody tr.selected {
  background: var(--bg-carbon-700);
  border-left: 2px solid var(--accent-lime);
}

.table-tactical tbody tr:last-child td {
  border-bottom: none;
}

/* Inputs */
.input-tactical, .synter-input {
  width: 100%;
  background: var(--bg-carbon-800);
  border: 1px solid var(--stroke-1);
  border-radius: 6px;
  padding: 12px;
  color: var(--text-hi);
  font-family: var(--font-mono);
  font-size: 14px;
  transition: all var(--duration-normal) var(--ease-tactical);
}

.input-tactical::placeholder, .synter-input::placeholder {
  color: var(--text-low);
  opacity: 0.6;
}

.input-tactical:focus, .synter-input:focus {
  outline: none;
  border-color: var(--accent-cyan);
  box-shadow: var(--focus-ring);
}

.input-tactical:hover:not(:focus), .synter-input:hover:not(:focus) {
  border-color: var(--stroke-2);
  background: rgba(19, 25, 34, 0.8);
}

/* Labels */
.synter-label {
  display: block;
  font-family: var(--font-mono);
  font-size: 12px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: var(--text-mid);
  margin-bottom: 8px;
}

/* Buttons */
.btn-tactical, .synter-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 10px 16px;
  font-family: var(--font-mono);
  font-size: 12px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  border-radius: 6px;
  border: 1px solid;
  cursor: pointer;
  transition: all var(--duration-normal) var(--ease-tactical);
  position: relative;
  overflow: hidden;
}

.btn-tactical-primary, .synter-btn-primary {
  background: var(--accent-red);
  color: var(--bg-carbon-900);
  border-color: var(--accent-red);
}

.btn-tactical-primary:hover, .synter-btn-primary:hover {
  background: #c93a31;
  transform: translateY(-1px);
}

.btn-tactical-primary:disabled, .synter-btn-primary:disabled {
  background: var(--bg-carbon-800);
  color: var(--text-disabled);
  border-color: var(--stroke-2);
  cursor: not-allowed;
  transform: none;
}

.btn-tactical-secondary, .synter-btn-secondary {
  background: transparent;
  color: var(--text-mid);
  border-color: var(--stroke-1);
}

.btn-tactical-secondary:hover, .synter-btn-secondary:hover {
  background: var(--bg-carbon-800);
  color: var(--text-hi);
  border-color: var(--accent-cyan);
}

.btn-tactical-ghost, .synter-btn-ghost {
  background: transparent;
  color: var(--text-mid);
  border-color: transparent;
}

.btn-tactical-ghost:hover, .synter-btn-ghost:hover {
  background: var(--bg-carbon-800);
  color: var(--text-hi);
}

/* Command Log Panel */
.command-log {
  @apply panel;
  font-family: var(--font-mono);
  font-size: 12px;
  max-height: 400px;
  overflow-y: auto;
  position: relative;
}

.command-log::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 2px;
  background: var(--accent-red);
}

.command-log-entry {
  padding: 4px 0 4px 12px;
  color: var(--text-mid);
  line-height: 1.5;
}

.command-log-timestamp {
  color: var(--text-low);
  margin-right: 8px;
}

.command-log-token {
  color: var(--accent-cyan);
}

.command-log-warning {
  color: var(--accent-amber);
}

.command-log-error {
  color: var(--danger-red);
  animation: glitch 40ms steps(2, end) 1;
}

/* Charts & Visualization */
.chart-tactical {
  background: transparent;
}

.chart-tactical .gridline {
  stroke: var(--grid-1);
  stroke-dasharray: 2, 2;
}

.chart-tactical .axis-text {
  fill: var(--text-low);
  font-family: var(--font-mono);
  font-size: 11px;
}

.chart-tactical .tooltip {
  background: rgba(11, 14, 18, 0.95);
  border: 1px solid var(--stroke-1);
  border-radius: 6px;
  padding: 8px;
  color: var(--text-hi);
  font-family: var(--font-mono);
  font-size: 12px;
  backdrop-filter: blur(2px);
}

/* ==========================================
   ANIMATIONS
   ========================================== */

@keyframes scan {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

@keyframes glitch {
  0% { transform: translate(0,0); }
  20% { transform: translate(-1px,1px); }
  40% { transform: translate(1px,-1px); }
  60% { transform: translate(-1px,0); }
  80% { transform: translate(1px,1px); }
  100% { transform: translate(0,0); }
}

@keyframes sweep {
  0% { opacity: 0; }
  10% { opacity: 0.25; }
  90% { opacity: 0.25; }
  100% { opacity: 0; }
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideUp {
  from { 
    opacity: 0; 
    transform: translateY(20px); 
  }
  to { 
    opacity: 1; 
    transform: translateY(0); 
  }
}

.animate-scan {
  animation: scan 1.4s linear infinite;
}

.animate-glitch {
  animation: glitch 40ms steps(2, end) 1;
}

.animate-sweep {
  animation: sweep 4s linear infinite;
}

.animate-fade-in {
  animation: fadeIn var(--duration-normal) var(--ease-tactical);
}

.animate-slide-up {
  animation: slideUp var(--duration-normal) var(--ease-tactical);
}

/* Loading skeleton with scan effect */
.skeleton-tactical {
  background: var(--bg-carbon-800);
  border-radius: 6px;
  position: relative;
  overflow: hidden;
}

.skeleton-tactical::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(77, 214, 255, 0.1),
    transparent
  );
  animation: scan 1.4s linear infinite;
}

/* ==========================================
   ACCESSIBILITY
   ========================================== */

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
  
  .animate-scan,
  .animate-sweep,
  .animate-glitch {
    animation: none;
  }
}

/* Focus indicators */
.btn-tactical:focus-visible,
.input-tactical:focus-visible {
  outline: 2px solid var(--accent-cyan);
  outline-offset: 2px;
}

/* ==========================================
   UTILITY CLASSES
   ========================================== */

.text-spend { color: var(--color-spend); }
.text-revenue { color: var(--color-revenue); }
.text-ctr { color: var(--color-ctr); }
.text-cpa { color: var(--color-cpa); }

.bg-spend { background: var(--color-spend); }
.bg-revenue { background: var(--color-revenue); }
.bg-ctr { background: var(--color-ctr); }
.bg-cpa { background: var(--color-cpa); }

.border-tactical { border: 1px solid var(--stroke-1); }
.border-tactical-2 { border: 1px solid var(--stroke-2); }

.divider-tactical {
  height: 1px;
  background: var(--divider);
  margin: 16px 0;
}

/* Sparkline container */
.sparkline {
  height: 32px;
  position: relative;
  overflow: hidden;
  margin-top: 8px;
}

.sparkline::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(77, 214, 255, 0.3),
    transparent
  );
  animation: scan 1.4s linear infinite;
  pointer-events: none;
}

/* Platform badges */
.platform-badge {
  @apply status-pill;
  font-size: 10px;
  padding: 0 6px;
}

.platform-google { 
  color: var(--accent-cyan);
  border-color: var(--accent-cyan);
}

.platform-reddit { 
  color: var(--accent-amber);
  border-color: var(--accent-amber);
}

.platform-x { 
  color: var(--text-hi);
  border-color: var(--text-hi);
}

/* Hero visualization container */
.hero-visualization {
  min-height: 400px;
  max-width: 600px;
  pointer-events: none;
  z-index: 1;
  opacity: 0.6;
}

/* Ensure hero content is above visualization */
.hero-content {
  position: relative;
  z-index: 10;
}

/* Fix duplicate launcher - ensure only top-right positioning */
.launcher,
.global-launcher,
[class*="launcher"] {
  position: fixed !important;
  top: 16px !important;
  right: 16px !important;
  bottom: auto !important;
  left: auto !important;
  z-index: 40 !important;
}

/* Kill any bottom-left launcher classes */
.launcher--bottom-left,
[class*="bottom-left"] {
  display: none !important;
}

/* Ensure sidebar uses lower z-index than launcher */
.sidebar {
  z-index: 30 !important;
}

/* Fix any third-party widgets that might be interfering */
div[style*="bottom"][style*="left"] {
  top: 16px !important;
  right: 16px !important;
  bottom: auto !important;
  left: auto !important;
}
